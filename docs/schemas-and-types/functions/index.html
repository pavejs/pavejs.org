<!doctype html><html class=h-full lang=en>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="Create, update, delete, or otherwise via functions.">
<meta name=author content="Casey Foster, Nathaniel Pendy">
<meta name=generator content="Hugo 0.86.0">
<meta name=docsearch:language content="en">
<meta name=docsearch:version content="1.0">
<title>Functions Â· PaveJS v1.0</title>
<link rel=canonical href=https://pavejs.org/docs/schemas-and-types/functions/>
<link href=https://pavejs.org/css/main.min.css rel=stylesheet>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css>
</head>
<body class="bg-white text-gray-600 text-sm break-words h-full w-full flex flex-col overscroll-y-none items-center">
<header class="w-full bg-gray-100 shadow z-10">
<div class="flex items-center max-w-screen-xl mx-auto space-x-8 px-6">
<a href=/ class="font-bold text-lg">
[Pave Logo]
</a>
<div class="flex-1 md:flex hidden">
<a class="uppercase text-gray-600 font-semibold text-sm cursor-pointer hover:text-gray-500 hover:bg-gray-200 p-6" href=/docs/getting-started/quick-start>Getting Started</a>
<a class="uppercase text-gray-600 font-semibold text-sm cursor-pointer hover:text-gray-500 hover:bg-gray-200 p-6" href=/docs>Documentation</a>
<div class="flex space-x-2 text-gray-600 items-center pl-4">
<img class="h-4 w-4" src=/svgs/search.svg>
<input id=docs-search class="bg-gray-100 border-0 text-sm max-w-lg overflow-x-auto" placeholder="Search the docs...">
<span class="text-xs bg-gray-200 rounded px-2 py-1 font-bold">Ctrl + /</span>
</div>
</div>
<div class="flex-1 flex md:hidden"></div>
<div class="flex md:hidden">
<a class="uppercase text-gray-600 font-semibold text-sm cursor-pointer hover:text-gray-500 hover:bg-gray-200 p-4" href=/docs>Docs</a>
</div>
<div class="lg:flex hidden">
<a class="uppercase text-gray-600 font-semibold text-sm cursor-pointer hover:text-gray-500 hover:bg-gray-200 p-6" href=https://www.npmjs.com/package/pave>
npm
</a>
<a class="uppercase text-gray-600 font-semibold text-sm cursor-pointer hover:text-gray-500 hover:bg-gray-200 p-6" href=https://www.github.com/caseywebdev/pave>
github
</a>
</div>
</div>
</header>
<div class="flex-1 flex flex-col p-safe w-full items-center">
<div class="h-full flex-1 flex flex-col w-full max-w-screen-xl">
<div class="w-full h-full flex flex-col-reverse lg:flex-row p-4 lg:space-x-5">
<main class="flex flex-col lg:space-x-4 lg:flex-row lg:w-3/4">
<div class="py-5 lg:py-0 lg:pb-5 text-gray-400 lg:w-48 p-4 space-y-2">
<strong class="block text-lg pb-2 border-b">On this page</strong>
<nav class=table-of-contents>
<nav id=TableOfContents>
<ul>
<li><a href=#structure>Structure</a>
<ul>
<li><a href=#arguments-args>Arguments (args)</a>
<ul>
<li><a href=#example>Example</a></li>
</ul>
</li>
<li><a href=#type>Type</a>
<ul>
<li><a href=#schema-type-example>Schema Type Example</a></li>
<li><a href=#explicit-example>Explicit Example</a></li>
</ul>
</li>
<li><a href=#resolve>Resolve</a></li>
</ul>
</li>
</ul>
</nav>
</nav>
</div>
<div class="flex flex-col flex-1 space-y-2 docs-body">
<span class="text-4xl font-bold">Functions</span>
<p class="text-2xl font-light">Create, update, delete, or otherwise via functions.</p>
<hr class=pt-2>
<h2 id=structure>Structure</h2>
<p>All functions have a set of fields which are required by Pave in order to provide arguments, validate return, and resolve the function itself. These fields are as follows:</p>
<h3 id=arguments-args>Arguments (args)</h3>
<p><strong>A dictionary of key-value pairs following field:type structure</strong></p>
<p>These arguments will reappear in your resolve fn, a separate field on the function, in the format you described. In this manner, you can also define args as optional or nullable, with an important distinction between the two.</p>
<ul>
<li>
<p>Optional &mdash; Arg can either not exist on query, or have a value.</p>
</li>
<li>
<p>Nullable &mdash; Arg can not exist on the query, which will be interpretted as null, or have a value.</p>
</li>
</ul>
<p>The distinction between these two is that for things such as updating functions, where you want to make a distinction between somebody wanting to update a value to null, and not wanting to update it at all, you would want to declare that argument as both optional and nullable in order to cover all cases.</p>
<h4 id=example>Example</h4>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=c1>// An update function of a user by ID
</span><span class=c1></span><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
  <span class=nx>args</span><span class=o>:</span> <span class=p>{</span> 
    <span class=nx>id</span><span class=o>:</span> <span class=s1>&#39;int&#39;</span><span class=p>,</span> <span class=c1>// A simple argument and type
</span><span class=c1></span>    <span class=nx>name</span><span class=o>:</span> <span class=p>{</span> <span class=nx>optional</span><span class=o>:</span> <span class=s1>&#39;string&#39;</span> <span class=p>},</span> <span class=c1>// An optional field
</span><span class=c1></span>    <span class=nx>description</span><span class=o>:</span> <span class=p>{</span> <span class=nx>optional</span><span class=o>:</span> <span class=p>{</span> <span class=nx>nullable</span><span class=o>:</span> <span class=s1>&#39;string&#39;</span> <span class=p>}</span> <span class=p>}</span> <span class=c1>// An optional and nullable field
</span><span class=c1></span>  <span class=p>},</span>
  <span class=p>...</span>
<span class=p>}</span>
</code></pre></div><br>
<h3 id=type>Type</h3>
<p><strong>An expected return format of the function</strong></p>
<p>A type can be in two formats; a defined type from the schema, or an explicit definition of the available fields. The former is generally the correct way that you&rsquo;ll want to define a functions return type, but in the case of one-off functions that return a unique shape, you&rsquo;ll likely want to define a one-off return type and/or fields.</p>
<h4 id=schema-type-example>Schema Type Example</h4>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=c1>// A function to query for details about a specific user
</span><span class=c1></span><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
  <span class=nx>args</span><span class=o>:</span> <span class=p>{</span> <span class=nx>id</span><span class=o>:</span> <span class=s1>&#39;int&#39;</span> <span class=p>},</span>
  <span class=nx>type</span><span class=o>:</span> <span class=p>{</span> <span class=nx>nullable</span><span class=o>:</span> <span class=s1>&#39;user&#39;</span> <span class=p>},</span> <span class=c1>// Will return a user model, unless there is no user with the provided ID
</span><span class=c1></span>  <span class=p>...</span>
<span class=p>}</span>
</code></pre></div><h4 id=explicit-example>Explicit Example</h4>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=c1>// A function which calls an outside API for weather data
</span><span class=c1></span><span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
  <span class=nx>args</span><span class=o>:</span> <span class=p>{</span> 
    <span class=nx>lat</span><span class=o>:</span> <span class=p>{</span> 
      <span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;number&#39;</span><span class=p>,</span>
      <span class=nx>typeArgs</span><span class=o>:</span> <span class=p>{</span> <span class=nx>gte</span><span class=o>:</span> <span class=o>-</span><span class=mi>90</span><span class=p>,</span> <span class=nx>lte</span><span class=o>:</span> <span class=mi>90</span> <span class=p>}</span>
    <span class=p>},</span>
    <span class=nx>lng</span><span class=o>:</span> <span class=p>{</span> 
      <span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;number&#39;</span><span class=p>,</span>
      <span class=nx>typeArgs</span><span class=o>:</span> <span class=p>{</span> <span class=nx>gte</span><span class=o>:</span> <span class=o>-</span><span class=mi>180</span><span class=p>,</span> <span class=nx>lte</span><span class=o>:</span> <span class=mi>180</span> <span class=p>}</span>
    <span class=p>}</span>
  <span class=p>},</span>
  <span class=nx>type</span><span class=o>:</span> <span class=p>{</span> 
    <span class=nx>nullable</span><span class=o>:</span> <span class=p>{</span> <span class=c1>// Dictates that this function can return null, in the case of invalid lat/lng
</span><span class=c1></span>      <span class=nx>fields</span><span class=o>:</span> <span class=p>{</span>
        <span class=nx>average</span><span class=o>:</span> <span class=s1>&#39;number&#39;</span><span class=p>,</span>
        <span class=nx>high</span><span class=o>:</span> <span class=s1>&#39;number&#39;</span><span class=p>,</span>
        <span class=nx>low</span><span class=o>:</span> <span class=s1>&#39;number&#39;</span>
      <span class=p>}</span>
    <span class=p>}</span>
  <span class=p>},</span>
  <span class=p>...</span>
<span class=p>}</span>
</code></pre></div><h3 id=resolve>Resolve</h3>
<p><strong>The actual function to process/get the arguments and return a value</strong></p>
<p>As the summary and the name of the field indicate, this field on the function object is nec</p>
<div class=h-72></div>
</div>
</main>
<aside class="lg:right-0 lg:sticky top-4 lg:w-1/4 h-min flex flex-col bg-gray-50 rounded shadow border border-gray-200">
<nav class="w-full flex"><ul class="list-none w-full">
<li class="flex flex-col w-full">
<div class="w-full inline-flex items-center flex-1 flex justify-between space-x-4 whitespace-nowrap p-2 text-blue-500 uppercase font-bold text-sm">
Getting Started
</div>
<div lass="w-full flex">
<ul class="list-none flex flex-1 flex-col text-base">
<li class="flex w-full"><a href=/docs/getting-started/introduction/ class="inline-flex flex-1 flex justify-between space-x-4 font-semibold text-sm cursor-pointer hover:text-gray-600 hover:bg-gray-200 whitespace-nowrap p-2 pl-6 text-gray-400 text-xs">
Introduction
</a></li>
<li class="flex w-full"><a href=/docs/getting-started/quick-start/ class="inline-flex flex-1 flex justify-between space-x-4 font-semibold text-sm cursor-pointer hover:text-gray-600 hover:bg-gray-200 whitespace-nowrap p-2 pl-6 text-gray-400 text-xs">
Quick Start
</a></li>
</ul>
</div>
</li>
<li class="flex flex-col w-full">
<div class="w-full inline-flex items-center flex-1 flex justify-between space-x-4 whitespace-nowrap p-2 text-blue-500 uppercase font-bold text-sm">
Queries
</div>
<div lass="w-full flex">
<ul class="list-none flex flex-1 flex-col text-base">
<li class="flex w-full"><a href=/docs/queries/fields/ class="inline-flex flex-1 flex justify-between space-x-4 font-semibold text-sm cursor-pointer hover:text-gray-600 hover:bg-gray-200 whitespace-nowrap p-2 pl-6 text-gray-400 text-xs">
Fields
</a></li>
<li class="flex w-full"><a href=/docs/queries/arguments/ class="inline-flex flex-1 flex justify-between space-x-4 font-semibold text-sm cursor-pointer hover:text-gray-600 hover:bg-gray-200 whitespace-nowrap p-2 pl-6 text-gray-400 text-xs">
Arguments
</a></li>
<li class="flex w-full"><a href=/docs/queries/aliases/ class="inline-flex flex-1 flex justify-between space-x-4 font-semibold text-sm cursor-pointer hover:text-gray-600 hover:bg-gray-200 whitespace-nowrap p-2 pl-6 text-gray-400 text-xs">
Aliases
</a></li>
<li class="flex w-full"><a href=/docs/queries/variables/ class="inline-flex flex-1 flex justify-between space-x-4 font-semibold text-sm cursor-pointer hover:text-gray-600 hover:bg-gray-200 whitespace-nowrap p-2 pl-6 text-gray-400 text-xs">
Variables
</a></li>
</ul>
</div>
</li>
<li class="flex flex-col w-full">
<div class="w-full inline-flex items-center flex-1 flex justify-between space-x-4 whitespace-nowrap p-2 text-blue-500 uppercase font-bold text-sm">
Schemas and Types
</div>
<div lass="w-full flex">
<ul class="list-none flex flex-1 flex-col text-base">
<li class="flex w-full"><a href=/docs/schemas-and-types/structure/ class="inline-flex flex-1 flex justify-between space-x-4 font-semibold text-sm cursor-pointer hover:text-gray-600 hover:bg-gray-200 whitespace-nowrap p-2 pl-6 text-gray-400 text-xs">
Structure
</a></li>
<li class="flex w-full"><a href=/docs/schemas-and-types/functions/ class="inline-flex flex-1 flex justify-between space-x-4 font-semibold text-sm cursor-pointer hover:text-gray-600 hover:bg-gray-200 whitespace-nowrap p-2 pl-6 text-gray-400 text-xs text-gray-900">
Functions
</a></li>
<li class="flex w-full"><a href=/docs/schemas-and-types/model-types-and-fields/ class="inline-flex flex-1 flex justify-between space-x-4 font-semibold text-sm cursor-pointer hover:text-gray-600 hover:bg-gray-200 whitespace-nowrap p-2 pl-6 text-gray-400 text-xs">
Model Types and Fields
</a></li>
<li class="flex w-full"><a href=/docs/schemas-and-types/arguments/ class="inline-flex flex-1 flex justify-between space-x-4 font-semibold text-sm cursor-pointer hover:text-gray-600 hover:bg-gray-200 whitespace-nowrap p-2 pl-6 text-gray-400 text-xs">
Arguments
</a></li>
<li class="flex w-full"><a href=/docs/schemas-and-types/scalar-types/ class="inline-flex flex-1 flex justify-between space-x-4 font-semibold text-sm cursor-pointer hover:text-gray-600 hover:bg-gray-200 whitespace-nowrap p-2 pl-6 text-gray-400 text-xs">
Scalar Types
</a></li>
<li class="flex w-full"><a href=/docs/schemas-and-types/enumerable-types/ class="inline-flex flex-1 flex justify-between space-x-4 font-semibold text-sm cursor-pointer hover:text-gray-600 hover:bg-gray-200 whitespace-nowrap p-2 pl-6 text-gray-400 text-xs">
Enumerable Types
</a></li>
</ul>
</div>
</li>
<li class="py-1 mx-4 border-t"></li>
<li class="flex w-full"><a href=/docs/extra-packages/ class="inline-flex flex-1 justify-between space-x-4 font-bold uppercase text-sm cursor-pointer hover:text-blue-600 hover:bg-gray-200 whitespace-nowrap p-3 text-blue-500">
Extra Packages
</a></li>
</ul>
</nav>
</aside>
</div></div>
</div>
<div class="w-full bg-gray-100 p-6">
<div class="flex items-center justify-between max-w-screen-xl mx-auto space-x-8">
<a href=/ class="font-bold text-lg">
[Pave Logo]
</a>
<span>Code licensed <a class="font-semibold no-underline hover:underline hover:text-blue-500" href=https://github.com/caseywebdev/pave/blob/main/LICENSE.txt>MIT</a>, docs <a class="font-semibold no-underline hover:underline hover:text-blue-500" href=https://creativecommons.org/licenses/by/4.0/>CC BY 4.0</a>.</span>
</div>
</div>
<script type=text/javascript src=/main.js></script>
<script type=text/javascript src=https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js></script>
<script type=text/javascript>docsearch({apiKey:'ed99e030d53e4d965c42623211b10cc3',indexName:'pavejs',inputSelector:'#docs-search',debug:!1})</script>
</body>
</html>